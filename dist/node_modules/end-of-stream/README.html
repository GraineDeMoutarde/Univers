<h1>end-of-stream</h1>
<p>A node module that calls a callback when a readable/writable/duplex stream has completed or failed.</p>
<pre><code>npm install end-of-stream
</code></pre>
<h2>Usage</h2>
<p>Simply pass a stream and a callback to the <code>eos</code>.
Both legacy streams and streams2 are supported.</p>
<pre><code class="language-js">var eos = require('end-of-stream');

eos(readableStream, function(err) {
    if (err) return console.log('stream had an error or closed early');
    console.log('stream has ended');
});

eos(writableStream, function(err) {
    if (err) return console.log('stream had an error or closed early');
    console.log('stream has finished');
});

eos(duplexStream, function(err) {
    if (err) return console.log('stream had an error or closed early');
    console.log('stream has ended and finished');
});

eos(duplexStream, {readable:false}, function(err) {
    if (err) return console.log('stream had an error or closed early');
    console.log('stream has ended but might still be writable');
});

eos(duplexStream, {writable:false}, function(err) {
    if (err) return console.log('stream had an error or closed early');
    console.log('stream has ended but might still be readable');
});

eos(readableStream, {error:false}, function(err) {
    // do not treat emit('error', err) as a end-of-stream
});
</code></pre>
<h2>License</h2>
<p>MIT</p>
